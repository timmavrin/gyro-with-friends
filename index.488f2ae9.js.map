{"mappings":"C,A,eCGI,EACA,EACA,EACA,EAJJ,IAAM,EAAW,ICFV,MAKL,aAAc,CAJd,IAAA,CAAA,KAAA,CAAgB,EAChB,IAAA,CAAA,IAAA,CAAe,EACf,IAAA,CAAA,KAAA,CAAgB,EAGd,IAAI,CAAC,eAAe,EACtB,CAEA,iBAAkB,CAChB,OAAO,gBAAgB,CACrB,oBACA,AAAC,IACC,IAAI,CAAC,KAAK,CAAG,EAAE,KAAK,EAAI,EACxB,IAAI,CAAC,IAAI,CAAG,EAAE,IAAI,EAAI,EACtB,IAAI,CAAC,KAAK,CAAG,EAAE,KAAK,EAAI,CAC1B,EACA,CAAE,KAAM,CAAA,CAAK,EAEjB,CACF,CDZA,CAAA,OAAO,MAAM,CAAG,KAEd,EAAS,SAAS,cAAc,CAAC,SACjC,EAAQ,SAAS,cAAc,CAAC,QAChC,EAAS,SAAS,cAAc,CAAC,SACjC,IAAM,EAAS,SAAS,cAAc,CAAC,UACjC,EAAO,KAAK,GAAG,CAAC,OAAO,WAAW,CAAE,OAAO,UAAU,CAC3D,CAAA,EAAO,KAAK,CAAG,EAAO,MAAM,CAAG,EAC/B,EAAO,EAAO,UAAU,CAAC,MACrB,OAAO,sBAAsB,EAC/B,OAAO,gBAAgB,CACrB,oBACA,AAAC,IACC,GAAI,GAAU,GAAS,GAAU,EAAE,KAAK,EAAI,EAAE,IAAI,EAAI,EAAE,KAAK,CAAE,CAK7D,IAAI,EAAO,EAAE,IAAI,CAAG,EAAS,IAAI,CAC7B,EAAQ,EAAE,KAAK,CAAG,EAAS,KAAK,CAChC,EAAU,EAAO,EACjB,EAAU,EAAO,EAEjB,EAAO,EAAU,EAAQ,GAAM,EAC/B,EAAO,EAAU,EAAQ,GAAM,EAC/B,IACF,EAAK,SAAS,CAAC,EAAG,EAAG,EAAM,GAC3B,EAAK,SAAS,GACd,EAAK,GAAG,CAAC,EAAM,EAAM,GAAI,EAAG,EAAI,KAAK,EAAE,CAAE,CAAA,GACzC,EAAK,WAAW,CAAG,OACnB,EAAK,MAAM,GAEf,CACF,EACA,CAAA,EAGN,C","sources":["<anon>","src/index.ts","src/gyro.ts"],"sourcesContent":["(function () {\nclass $e78caf09608c6251$export$2f471b5aa48f9e76 {\n    constructor(){\n        this.alpha = 0;\n        this.beta = 0;\n        this.gamma = 0;\n        this.calibrateCenter();\n    }\n    calibrateCenter() {\n        window.addEventListener(\"deviceorientation\", (e)=>{\n            this.alpha = e.alpha ?? 0;\n            this.beta = e.beta ?? 0;\n            this.gamma = e.gamma ?? 0;\n        }, {\n            once: true\n        });\n    }\n}\n\n\nconst $2d081a1fa49e40a2$var$_gyroRef = new (0, $e78caf09608c6251$export$2f471b5aa48f9e76)();\nlet $2d081a1fa49e40a2$var$_alpha;\nlet $2d081a1fa49e40a2$var$_beta;\nlet $2d081a1fa49e40a2$var$_gamma;\nlet $2d081a1fa49e40a2$var$_ctx;\nwindow.onload = ()=>{\n    // Setup\n    $2d081a1fa49e40a2$var$_alpha = document.getElementById(\"alpha\");\n    $2d081a1fa49e40a2$var$_beta = document.getElementById(\"beta\");\n    $2d081a1fa49e40a2$var$_gamma = document.getElementById(\"gamma\");\n    const canvas = document.getElementById(\"canvas\");\n    const size = Math.min(window.innerHeight, window.innerWidth);\n    canvas.width = canvas.height = size;\n    $2d081a1fa49e40a2$var$_ctx = canvas.getContext(\"2d\");\n    if (window.DeviceOrientationEvent) window.addEventListener(\"deviceorientation\", (e)=>{\n        if ($2d081a1fa49e40a2$var$_alpha && $2d081a1fa49e40a2$var$_beta && $2d081a1fa49e40a2$var$_gamma && e.alpha && e.beta && e.gamma) {\n            // _alpha.innerText = e.alpha - _gyroRef.alpha + '';\n            // _beta.innerText = e.beta - _gyroRef.beta + '';\n            // _gamma.innerText = e.gamma - _gyroRef.gamma + '';\n            let beta = e.beta - $2d081a1fa49e40a2$var$_gyroRef.beta;\n            let gamma = e.gamma - $2d081a1fa49e40a2$var$_gyroRef.gamma;\n            let centerX = size / 2;\n            let centerY = size / 2;\n            let xPos = centerX + size / 20 * gamma;\n            let yPos = centerY + size / 20 * beta;\n            if ($2d081a1fa49e40a2$var$_ctx) {\n                $2d081a1fa49e40a2$var$_ctx.clearRect(0, 0, size, size);\n                $2d081a1fa49e40a2$var$_ctx.beginPath();\n                $2d081a1fa49e40a2$var$_ctx.arc(xPos, yPos, 20, 0, 2 * Math.PI, true);\n                $2d081a1fa49e40a2$var$_ctx.strokeStyle = \"#000\";\n                $2d081a1fa49e40a2$var$_ctx.stroke();\n            }\n        }\n    }, false);\n};\n\n})();\n//# sourceMappingURL=index.488f2ae9.js.map\n","import { Gyro } from './gyro';\r\n\r\nconst _gyroRef = new Gyro();\r\nlet _alpha: HTMLElement | null;\r\nlet _beta: HTMLElement | null;\r\nlet _gamma: HTMLElement | null;\r\nlet _ctx: CanvasRenderingContext2D | null;\r\n\r\nwindow.onload = () => {\r\n  // Setup\r\n  _alpha = document.getElementById('alpha');\r\n  _beta = document.getElementById('beta');\r\n  _gamma = document.getElementById('gamma');\r\n  const canvas = document.getElementById('canvas') as HTMLCanvasElement;\r\n  const size = Math.min(window.innerHeight, window.innerWidth);\r\n  canvas.width = canvas.height = size;\r\n  _ctx = canvas.getContext('2d');\r\n  if (window.DeviceOrientationEvent) {\r\n    window.addEventListener(\r\n      'deviceorientation',\r\n      (e: DeviceOrientationEvent) => {\r\n        if (_alpha && _beta && _gamma && e.alpha && e.beta && e.gamma) {\r\n          // _alpha.innerText = e.alpha - _gyroRef.alpha + '';\r\n          // _beta.innerText = e.beta - _gyroRef.beta + '';\r\n          // _gamma.innerText = e.gamma - _gyroRef.gamma + '';\r\n\r\n          let beta = e.beta - _gyroRef.beta;\r\n          let gamma = e.gamma - _gyroRef.gamma;\r\n          let centerX = size / 2;\r\n          let centerY = size / 2;\r\n\r\n          let xPos = centerX + (size / 20) * gamma;\r\n          let yPos = centerY + (size / 20) * beta;\r\n          if (_ctx) {\r\n            _ctx.clearRect(0, 0, size, size);\r\n            _ctx.beginPath();\r\n            _ctx.arc(xPos, yPos, 20, 0, 2 * Math.PI, true);\r\n            _ctx.strokeStyle = '#000';\r\n            _ctx.stroke();\r\n          }\r\n        }\r\n      },\r\n      false\r\n    );\r\n  }\r\n};\r\n","export class Gyro {\r\n  alpha: number = 0;\r\n  beta: number = 0;\r\n  gamma: number = 0;\r\n\r\n  constructor() {\r\n    this.calibrateCenter();\r\n  }\r\n\r\n  calibrateCenter() {\r\n    window.addEventListener(\r\n      'deviceorientation',\r\n      (e: DeviceOrientationEvent) => {\r\n        this.alpha = e.alpha ?? 0;\r\n        this.beta = e.beta ?? 0;\r\n        this.gamma = e.gamma ?? 0;\r\n      },\r\n      { once: true }\r\n    );\r\n  }\r\n}\r\n"],"names":["$2d081a1fa49e40a2$var$_alpha","$2d081a1fa49e40a2$var$_beta","$2d081a1fa49e40a2$var$_gamma","$2d081a1fa49e40a2$var$_ctx","$2d081a1fa49e40a2$var$_gyroRef","constructor","alpha","beta","gamma","calibrateCenter","window","addEventListener","e","once","onload","document","getElementById","canvas","size","Math","min","innerHeight","innerWidth","width","height","getContext","DeviceOrientationEvent","centerX","centerY","xPos","yPos","clearRect","beginPath","arc","PI","strokeStyle","stroke"],"version":3,"file":"index.488f2ae9.js.map"}